<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo SPA - C Legacy Foundation</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <style>
        .spa-nav {
            background: var(--white);
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .spa-nav ul {
            list-style: none;
            display: flex;
            gap: 1rem;
            margin: 0;
            padding: 0;
            flex-wrap: wrap;
        }
        
        .spa-nav a {
            color: var(--primary-color);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .spa-nav a:hover {
            background: var(--primary-color);
            color: white;
        }
        
        #spa-content {
            min-height: 400px;
            padding: 2rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .demo-section {
            margin-bottom: 2rem;
        }
        
        .demo-section h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .button-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <div class="logo">
                <span>&lt;</span>C Legacy<span>&gt;</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Voltar ao Site</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <h1 style="text-align: center; color: var(--primary-color); margin-bottom: 2rem;">
            üöÄ Demonstra√ß√£o SPA & Templates
        </h1>

        <!-- Navega√ß√£o SPA -->
        <nav class="spa-nav">
            <ul>
                <li><a href="#/" data-spa-link>In√≠cio</a></li>
                <li><a href="#/projetos" data-spa-link>Projetos</a></li>
                <li><a href="#/voluntarios" data-spa-link>Volunt√°rios</a></li>
                <li><a href="#/componentes" data-spa-link>Componentes</a></li>
            </ul>
        </nav>

        <!-- Container de Conte√∫do SPA -->
        <div id="spa-content">
            <p>Carregando...</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" style="margin-top: 3rem;">
        <div class="footer-bottom">
            <p>&copy; 2025 C Legacy Foundation - Demonstra√ß√£o SPA</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/templates.js"></script>
    <script src="assets/js/spa.js"></script>
    <script src="assets/js/form-validator.js"></script>
    <script src="assets/js/navigation.js"></script>
    
    <script>
        // Registrar rotas do SPA
        spa.register('/', () => {
            return `
                <div class="demo-section">
                    <h2>Bem-vindo √† Demonstra√ß√£o SPA</h2>
                    <p>Esta √© uma demonstra√ß√£o do sistema Single Page Application implementado com JavaScript puro.</p>
                    
                    <div class="info-box highlight">
                        <h3>‚ú® Funcionalidades Implementadas</h3>
                        <ul>
                            <li><strong>SPA (Single Page Application):</strong> Navega√ß√£o sem recarregar a p√°gina</li>
                            <li><strong>Sistema de Templates:</strong> Renderiza√ß√£o din√¢mica de componentes</li>
                            <li><strong>Valida√ß√£o Avan√ßada:</strong> Verifica√ß√£o em tempo real com mensagens personalizadas</li>
                            <li><strong>Gerenciamento de Estado:</strong> LocalStorage para persist√™ncia de dados</li>
                            <li><strong>Componentes Reutiliz√°veis:</strong> Cards, modais, toasts, badges</li>
                        </ul>
                    </div>

                    <div class="demo-section">
                        <h3>üéØ Teste as Funcionalidades</h3>
                        <div class="button-group">
                            <button class="btn" onclick="testarToast()">Testar Toast</button>
                            <button class="btn btn-secondary" onclick="testarModal()">Testar Modal</button>
                            <button class="btn" onclick="spa.navigateTo('/projetos')">Ver Projetos</button>
                            <button class="btn" onclick="spa.navigateTo('/voluntarios')">Ver Volunt√°rios</button>
                        </div>
                    </div>
                </div>
            `;
        });

        spa.register('/projetos', () => {
            const projetos = getProjetos();
            const html = templateEngine.renderList('projectCard', projetos);
            
            return `
                <div class="demo-section">
                    <h2>üìö Projetos (Renderizados com Templates)</h2>
                    <p>Estes cards s√£o gerados dinamicamente usando o sistema de templates JavaScript.</p>
                    <div class="cards-grid" style="margin-top: 2rem;">
                        ${html}
                    </div>
                </div>
            `;
        });

        spa.register('/voluntarios', () => {
            const voluntarios = getVoluntarios();
            const html = templateEngine.renderList('voluntarioCard', voluntarios);
            
            return `
                <div class="demo-section">
                    <h2>üë• Volunt√°rios (Renderizados com Templates)</h2>
                    <p>Lista de volunt√°rios cadastrados no sistema.</p>
                    <div class="cards-grid" style="margin-top: 2rem;">
                        ${html}
                    </div>
                </div>
            `;
        });

        spa.register('/componentes', () => {
            return `
                <div class="demo-section">
                    <h2>üé® Componentes Dispon√≠veis</h2>
                    
                    <div class="demo-section">
                        <h3>Badges</h3>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            ${templateEngine.renderComponent('badge', { text: 'Primary', type: 'primary' })}
                            ${templateEngine.renderComponent('badge', { text: 'Success', type: 'success' })}
                            ${templateEngine.renderComponent('badge', { text: 'Danger', type: 'danger' })}
                            ${templateEngine.renderComponent('badge', { text: 'Warning', type: 'warning' })}
                            ${templateEngine.renderComponent('badge', { text: 'Info', type: 'info' })}
                        </div>
                    </div>

                    <div class="demo-section">
                        <h3>Bot√µes</h3>
                        <div class="button-group">
                            ${templateEngine.renderComponent('button', { text: 'Bot√£o Padr√£o' })}
                            ${templateEngine.renderComponent('button', { text: 'Secund√°rio', variant: 'secondary' })}
                            ${templateEngine.renderComponent('button', { text: 'Pequeno', size: 'sm' })}
                            ${templateEngine.renderComponent('button', { text: 'Com √çcone', icon: 'üöÄ' })}
                        </div>
                    </div>

                    <div class="demo-section">
                        <h3>Loading Spinner</h3>
                        ${templateEngine.renderComponent('loadingSpinner', { text: 'Carregando...', size: 'small' })}
                    </div>

                    <div class="demo-section">
                        <h3>Alertas</h3>
                        ${templateEngine.render('alert', { 
                            type: 'success', 
                            message: 'Opera√ß√£o realizada com sucesso!',
                            dismissible: true 
                        })}
                        ${templateEngine.render('alert', { 
                            type: 'error', 
                            message: 'Ocorreu um erro ao processar sua solicita√ß√£o.',
                            dismissible: true 
                        })}
                        ${templateEngine.render('alert', { 
                            type: 'warning', 
                            title: 'Aten√ß√£o!',
                            message: 'Esta a√ß√£o n√£o pode ser desfeita.',
                            dismissible: true 
                        })}
                    </div>

                    <div class="demo-section">
                        <h3>Estat√≠sticas</h3>
                        <div class="stats-container">
                            ${templateEngine.render('statBox', { icon: 'üë•', value: '300+', label: 'Volunt√°rios' })}
                            ${templateEngine.render('statBox', { icon: 'üìö', value: '150+', label: 'Projetos' })}
                            ${templateEngine.render('statBox', { icon: 'üéì', value: '5.000+', label: 'Capacitados' })}
                        </div>
                    </div>
                </div>
            `;
        });

        spa.register('/404', () => {
            return `
                <div class="demo-section" style="text-align: center; padding: 3rem;">
                    <h2>404 - P√°gina N√£o Encontrada</h2>
                    <p>A rota solicitada n√£o existe.</p>
                    <button class="btn" onclick="spa.navigateTo('/')">Voltar ao In√≠cio</button>
                </div>
            `;
        });

        // Fun√ß√µes de teste
        function testarToast() {
            showToast(
                'Teste de Toast',
                'Esta √© uma notifica√ß√£o toast de exemplo!',
                'success',
                5000
            );
        }

        function testarModal() {
            const modalContent = `
                <p>Este √© um modal de exemplo criado dinamicamente.</p>
                <p>Voc√™ pode fechar clicando no X, no backdrop ou pressionando ESC.</p>
            `;

            const modal = templateEngine.render('modal', {
                id: 'modal-teste',
                title: 'Modal de Teste',
                content: modalContent,
                active: true,
                footer: '<button class="btn" onclick="closeModal(\'modal-teste\')">Fechar</button>'
            });

            const modalDiv = document.createElement('div');
            modalDiv.innerHTML = modal;
            document.body.appendChild(modalDiv.firstElementChild);
        }
    </script>
</body>
</html>

